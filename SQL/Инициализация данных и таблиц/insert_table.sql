-- 1. Таблица менеджеров
INSERT INTO dim_managers (manager_id, manager_name) VALUES
(1, 'Иванов Алексей'),
(2, 'Петрова Мария'),
(3, 'Сидоров Дмитрий'),
(4, 'Кузнецова Анна'),
(5, 'Васильев Игорь'),
(6, 'Смирнова Ольга'),
(7, 'Попов Сергей'),
(8, 'Федорова Елена');

-- 2. Таблица команд
INSERT INTO dim_teams (team_id, team_name) VALUES
(1, 'Команда "Альфа"'),
(2, 'Команда "Бета"'),
(3, 'Команда "Гамма"');

-- 3. Связь менеджеров и команд
INSERT INTO bridge_team_members (team_id, manager_id, role) VALUES
-- Команда Альфа (Иванов - руководитель)
(1, 1, 'руководитель команды'),
(1, 2, 'менеджер'),
(1, 3, 'менеджер'),
-- Команда Бета (Кузнецова - руководитель)
(2, 4, 'руководитель команды'),
(2, 5, 'менеджер'),
(2, 6, 'менеджер'),
-- Команда Гамма (Попов - руководитель)
(3, 7, 'руководитель команды'),
(3, 8, 'менеджер');

-- 4. Таблица товаров
INSERT INTO dim_products (product_id, article, category, cost) VALUES
-- Электроника
(1, 'NB-001', 'Ноутбуки', 50000),
(2, 'NB-002', 'Ноутбуки', 75000),
(3, 'NB-003', 'Ноутбуки', 120000),
(4, 'SM-001', 'Смартфоны', 30000),
(5, 'SM-002', 'Смартфоны', 60000),
(6, 'SM-003', 'Смартфоны', 90000),
(7, 'TB-001', 'Планшеты', 25000),
(8, 'TB-002', 'Планшеты', 40000),
-- Офисная техника
(9, 'PR-001', 'Принтеры', 15000),
(10, 'PR-002', 'Принтеры', 30000),
(11, 'SC-001', 'Сканеры', 12000),
(12, 'SC-002', 'Сканеры', 25000),
-- Комплектующие
(13, 'MO-001', 'Мониторы', 20000),
(14, 'MO-002', 'Мониторы', 35000),
(15, 'KB-001', 'Клавиатуры', 3000),
(16, 'KB-002', 'Клавиатуры', 6000),
(17, 'MS-001', 'Мыши', 1500),
(18, 'MS-002', 'Мыши', 3000),
-- Аксессуары
(19, 'CA-001', 'Чехлы', 1000),
(20, 'CA-002', 'Чехлы', 2000),
(21, 'HD-001', 'Наушники', 5000),
(22, 'HD-002', 'Наушники', 12000);

-- 5. Таблица клиентов
INSERT INTO dim_clients (client_id, company_name, inn, manager_id) VALUES
(1, 'ООО "Ромашка"', '7701123456', 2),
(2, 'АО "Вектор"', '7701234567', 2),
(3, 'ООО "ТехноПрофи"', '7701345678', 3),
(4, 'ИП Сергеев А.В.', '7701456789', 3),
(5, 'ООО "СтройИндустрия"', '7701567890', 5),
(6, 'АО "НефтеГазСервис"', '7701678901', 5),
(7, 'ООО "МедТехника"', '7701789012', 6),
(8, 'ИП Козлова М.И.', '7701890123', 6),
(9, 'ООО "ТрансЛогистик"', '7701901234', 8),
(10, 'АО "ФинансГрупп"', '7701012345', 8),
(11, 'ООО "РитейлТрейд"', '7701123457', 2),
(12, 'ИП Николаев С.П.', '7701234568', 3),
(13, 'ООО "СтройМастер"', '7701345679', 5),
(14, 'АО "ТехноИнновации"', '7701456780', 6),
(15, 'ООО "Компьютерные системы"', '7701567891', 8);

-- 6. Таблица заказов (корзина)
INSERT INTO fact_orders (order_id, product_id, client_id, quantity, revenue, margin) VALUES
-- Заказы за ноябрь 2023
(1, 1, 1, 2, 120000, 20000),
(1, 4, 1, 5, 180000, 30000),
(2, 3, 2, 1, 150000, 30000),
(3, 7, 3, 3, 90000, 15000),
(4, 13, 4, 10, 250000, 50000),
(5, 2, 5, 2, 180000, 30000),
(6, 9, 6, 3, 60000, 15000),
(7, 15, 7, 20, 80000, 20000),
(8, 21, 8, 5, 35000, 10000),
(9, 5, 9, 4, 280000, 40000),
(10, 18, 10, 15, 60000, 15000);

-- 7. Таблица продаж (реализации)
INSERT INTO fact_sales (sale_id, product_id, client_id, sale_date, revenue, margin) VALUES
-- Продажи за ноябрь 2023
(1, 1, 1, '2023-11-05', 120000, 20000),
(1, 4, 1, '2023-11-05', 180000, 30000),
(2, 3, 2, '2023-11-07', 150000, 30000),
(3, 7, 3, '2023-11-08', 90000, 15000),
(4, 13, 4, '2023-11-10', 250000, 50000),
(5, 2, 5, '2023-11-12', 180000, 30000),
(6, 9, 6, '2023-11-14', 60000, 15000),
(7, 15, 7, '2023-11-15', 80000, 20000),
(8, 21, 8, '2023-11-18', 35000, 10000),
(9, 5, 9, '2023-11-20', 280000, 40000),
(10, 18, 10, '2023-11-22', 60000, 15000),

-- Продажи за октябрь 2023 для анализа динамики
(11, 2, 1, '2023-10-05', 90000, 15000),
(12, 6, 2, '2023-10-10', 120000, 30000),
(13, 10, 3, '2023-10-15', 45000, 15000),
(14, 14, 5, '2023-10-20', 70000, 35000),
(15, 19, 7, '2023-10-25', 3000, 1000);

(101, 1, 1, '2023-11-05', 120000, 24000),
(101, 4, 1, '2023-11-05', 90000, 18000),
(102, 3, 1, '2023-11-08', 150000, 45000),
(103, 7, 1, '2023-11-12', 75000, 15000),

-- Клиент 2: АО "Вектор" (manager_id = 2)  
(104, 2, 2, '2023-11-06', 90000, 18000),
(104, 5, 2, '2023-11-06', 120000, 30000),
(105, 9, 2, '2023-11-10', 45000, 9000),
(106, 13, 2, '2023-11-15', 100000, 25000),

-- Клиент 11: ООО "РитейлТрейд" (manager_id = 2)
(107, 6, 11, '2023-11-07', 180000, 54000),
(108, 10, 11, '2023-11-09', 60000, 15000),
(109, 14, 11, '2023-11-14', 70000, 21000),
(110, 18, 11, '2023-11-18', 24000, 6000),

-- Дополнительные продажи для равномерного распределения по дням
(111, 8, 1, '2023-11-20', 60000, 12000),
(112, 12, 2, '2023-11-22', 37500, 9375),
(113, 15, 11, '2023-11-25', 15000, 3750),
(114, 19, 1, '2023-11-28', 5000, 1000),
(115, 21, 2, '2023-11-29', 25000, 6250);

-- 8. Таблица возвратов
INSERT INTO fact_returns (return_id, sale_id, product_id, client_id, return_date, revenue, margin) VALUES
(1, 1, 4, 1, '2023-11-10', 36000, 6000), -- Возврат части товара
(2, 7, 15, 7, '2023-11-20', 16000, 4000), -- Полный возврат
(3, 11, 2, 1, '2023-10-12', 45000, 7500); -- Возврат за октябрь
(4, 101, 4, 1, '2023-11-10', 30000, 6000),
(5, 104, 5, 2, '2023-11-12', 40000, 10000);

-- 9. Таблица плановых показателей
INSERT INTO fact_plans (plan_id, manager_id, period, plan_revenue, plan_margin, plan_avg_ticket) VALUES
-- Планы на ноябрь 2023
(1, 2, '2023-11-01', 800000, 160000, 120000),
(2, 3, '2023-11-01', 600000, 120000, 150000),
(3, 5, '2023-11-01', 700000, 140000, 130000),
(4, 6, '2023-11-01', 500000, 100000, 110000),
(5, 8, '2023-11-01', 400000, 80000, 90000),

-- Планы на октябрь 2023
(6, 2, '2023-10-01', 750000, 150000, 110000),
(7, 3, '2023-10-01', 550000, 110000, 140000),
(8, 5, '2023-10-01', 650000, 130000, 120000),
(9, 6, '2023-10-01', 450000, 90000, 100000),
(10, 8, '2023-10-01', 350000, 70000, 80000),

-- Планы на декабрь 2023
(11, 2, '2023-12-01', 850000, 170000, 125000),
(12, 3, '2023-12-01', 650000, 130000, 155000),
(13, 5, '2023-12-01', 750000, 150000, 135000),
(14, 6, '2023-12-01', 550000, 110000, 115000),
(15, 8, '2023-12-01', 450000, 90000, 95000);

